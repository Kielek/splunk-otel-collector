exporters:
  pulsar:
    topic: otlp_metrics
    brokers: "pulsar://localhost:6650"
    connection_timeout: 30s
    operation_timeout: 30s
    auth:
      tls:
        ca_file: /pulsar/certs/cacert.pem
        pem: /pulsar/certs/cacert.pem
        insecure_skip_verify: false
        validate_hostname: false
    max_connections_per_broker: 1
    # https://github.com/apache/pulsar-client-go/blob/master/pulsar/producer.go
    # https://pkg.go.dev/github.com/apache/pulsar-client-go/pulsar
    producer:
      name: otel-pulsar
      send_timeout: 30s
      disable_block_queue_full: false
      max_pending_messages: 100
      hashing_scheme: java_string_hash
      compression_type: ZSTD
      compression_level: Default
      message_router: Default
      batch_builder_type: DefaultBatchBuilder
      disable_batching: false
      batching_max_publish_delay: 10ms
      batching_max_messages: 1000
      batching_max_size: 128kb
      partitions_auto_discovery_interval: 1m
      max_reconnect_broker: ultimate

processors:
  nop:

receivers:
  nop:

service:
  pipelines:
    metrics:
      receivers: [ nop ]
      processors: [ nop ]
      exporters: [ pulsar ]
